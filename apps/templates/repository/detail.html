{% extends "base/index.html" %}

{% load static %}

{% block title %}
@{{user}}/{{software.title}}
{% endblock title %}

{% block content %}
<div class="container">
    <div class="container mb-3">
        <div class="d-flex justify-content-between">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="{% url "dashboard" %}">Home</a></li>
                  <li class="breadcrumb-item active" aria-current="page">
                    {{ software.title.capitalize }}
                  </li>
                </ol>
            </nav>
            <div class="d-flex justify-content-between w-50">
                <a href="{% url "copyright" slug=software.slug %}" class="btn btn-outline-dark disabled">
                    <span class="">Descargar Certificado</span>
                </a>
                <a href="{% url "copyright" slug=software.slug %}" class="btn btn-outline-dark">
                    <span class="">Derechos de Autor</span>
                </a>
                <div class="dropdown">
                    <button class="btn btn-outline-dark dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Exportar
                    </button>
                    <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{% url "user-manual" slug=software.slug %}">Manual de Usuario</a></li>
                    <li><a class="dropdown-item" href="#">Descripción de Programa</a></li>
                    <!-- <li><a class="dropdown-item" href="#">Something else here</a></li> -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm 3">
            {% comment %} {% include "includes/menu.html" with software=software %} {% endcomment %}
            <h1 class="fw-bold h5">Contenido</h1>
            <ul class="list-group list-group-numbered">
                <li>
                    <a href="#section-description" class="text-decoration-none">
                        Descripción del Software <strong class="text-primary">{{software}}</strong> 
                    </a>
                </li>
                {% if software.version %}
                <li>
                    <a href="#section-category" class="text-decoration-none">
                        Categorización del software
                    </a>
                </li>
                {% endif %}

                {% if software.get_requeriments %}
                <li>
                    <a href="#section-requeriments" class="text-decoration-none">
                        Funcionalidades claves del software
                    </a>
                </li>
                {% endif %}
                <li>
                    <a href="#id_section_arquitecture" class="text-decoration-none">
                        Arquitectura del software
                    </a>
                </li>
                <li>
                    <a href="#section_authors" class="text-decoration-none">
                        Autores
                    </a>
                </li>
                <li>
                    <a href="#section_problems" class="text-decoration-none">
                        Solución de problemas
                    </a>
                </li>
                <li>
                    <a href="#section_glosary" class="text-decoration-none">
                        Glosario
                    </a>
                </li>
                <li>
                    <a href="#section_anexos" class="text-decoration-none">
                        Anexos
                    </a>
                </li>
            </ul>
        </div>
        <div class="col-sm-9">
            <div class="card shadow">
                <div class="card-body">
                    <h1 class="h4 fw-bold text-start mb-3 mt-3 text-primary">Manual de Usuario: {{software}}</h1>
                    <hr>
                    <div  style="height: 500px; overflow-y: scroll;">

                        <div id="id_section_content" class="mt-4 mb-3 p-2">
                            <h1 class="fw-bold h5">Contenido</h1>
                            <ul>
                                <li>
                                    <a href="#section-description" class="text-decoration-none">
                                        Sección 1: Descripción del Software <strong class="text-primary">{{software}}</strong> 
                                    </a>
                                </li>
                                {% if software.version %}
                                <li>
                                    <a href="#section-category" class="text-decoration-none">
                                        Sección 2: Categorización del software
                                    </a>
                                </li>
                                {% endif %}

                                {% if software.get_requeriments %}
                                <li>
                                    <a href="#section-requeriments" class="text-decoration-none">
                                        Sección 3: Funcionalidades claves del software
                                    </a>
                                </li>
                                {% endif %}
                                <li>
                                    <a href="#section_installation" class="text-decoration-none">
                                        Sección 5: Instalación y configuración
                                    </a>
                                </li>
                                <li>
                                    <a href="#section_authors" class="text-decoration-none">
                                        Sección 6: Autores
                                    </a>
                                </li>
                                <li>
                                    <a href="#section_problems" class="text-decoration-none">
                                        Sección 7: Solución de problemas
                                    </a>
                                </li>
                                <li>
                                    <a href="#section_glosary" class="text-decoration-none">
                                        Sección 8: Glosario
                                    </a>
                                </li>
                                <li>
                                    <a href="#section_anexos" class="text-decoration-none">
                                        Sección 9: Anexos
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div id="section-description" class="mb-3 p-2">
                            <div class="d-flex justify-content-between">
                                <h1 class="fw-bold h4">Sección 1: Descripción del software</h1>
                                <a class="icon-link text-decoration-none p-2" href="{% url "description" slug=software.slug %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
                                    </svg>
                                    Editar                                
                                </a>
                            </div>
                            <p>{{software.description}}</p>
                        </div>
                        
                        <div id="section-category" class="mb-3 p-2">
                            <div class="d-flex justify-content-between">
                                <h1 class="fw-bold h4">Sección 2: Categorización de software</h1>
                                <a class="icon-link text-decoration-none p-2" href="{% url "version" slug=software.slug %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                        <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
                                    </svg>
                                    Editar                                
                                </a>
                            </div>
                            
                            <div class="container mt-3">
                                {% include "repository/category_detail.html" with software=software %}                                
                            </div>
                            
                        </div>
                        
                        {% if software.get_requeriments %}
                        <div id="section-requeriments" class="mb-3 p-2">
                            <div class="d-flex justify-content-between mb-3">
                                <h1 class="fw-bold h4">Sección 3: Funcionales claves del software</h1>
                            </div>
                            
                            {% if software.get_requeriments %}
                                {% for req in software.get_requeriments %}
                                    {% include "repository/requeriments.html" with requeriment=req %}
                                {% endfor %}
                            {% endif %}
                        </div>
                        {% endif %}
                        
                        <div id="id_section_arquitecture" class="mb-3 p-2">
                            <h1 class="fw-bold h4">Sección 4: Arquitectura del software</h1>
                            
                            {% if software.get_requeriments %}
                            {% include "repository/requeriments.html" with requeriments=software.get_requeriments %}
                            {% endif %}
                        </div>
                        
                        <div id="id_section_installation" class="mb-3 p-2">
                            <h1 class="fw-bold h4">Sección 5: Instalación y Configuración</h1>
                            
                        </div>
                        
                        <div id="section_authors" class="mb-3 p-2">
                            <div class="d-flex justify-content-between mb-3">
                                <h1 class="fw-bold h4 mb-3">Sección 6: Autores</h1>
                                <a href="{% url "authors" slug=software.slug %}" class="btn btn-sm">Agregar</a>
                            </div>
                            <table class="table borderless shadow p-3">
                                <thead>
                                  <tr>
                                    <th class="fw-light text-secondary">Doc</th>
                                    <th class="fw-light text-secondary">Nombre</th>
                                    <th class="fw-light text-secondary">Email</th>
                                    <th class="fw-light text-secondary">Telefono</th>
                                  </tr>
                                </thead>
                                <tbody>
                                    {% for author in software.get_authors %}
                                    <tr>
                                      <th>{{author.type_ID}}-{{author.num_ID}}</th>
                                      <td>{{author.full_name}}</td>
                                      <td>{{author.email}}</td>
                                      <td>{{author.phone}}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        
                        <div id="id_section_requeriments" class="mb-3 p-2">
                            <h1 class="fw-bold h4">Sección 7: Solución de problemas</h1>
                            
                            {% if software.get_requeriments %}
                            {% include "repository/requeriments.html" with requeriments=software.get_requeriments %}
                            {% endif %}
                        </div>
                        
                        <div id="id_section_requeriments" class="mb-3 p-2">
                            <h1 class="fw-bold h4">Sección 8: Glosario</h1>
                            
                            {% if software.get_requeriments %}
                            {% include "repository/requeriments.html" with requeriments=software.get_requeriments %}
                            {% endif %}
                        </div>
                        
                        <div id="section_anexos" class="mb-3 p-2">
                            <h1 class="fw-bold h4">Sección 9: Anexos</h1>
                            
                            {% if software.logo %}
                            <div class="mt-3">
                                <table>
                                    <tr>
                                        <th class="mx-5">Logo:</th>
                                        <td>
                                            <img src={{software.get_logo}} alt={{software.logo}} width="100px" heigth="100px">
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
</div>


{% endblock content %}