{% extends "base/index.html" %}

{% load static %}

{% block title %}
New repository
{% endblock title %}

{% block cdn %}
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
{% endblock cdn %}


{% block content %}
<div class="p-1 w-25">
    <h1 class="h4 fw-bold text-center">Crea un espacio de trabajo para tu software</h1>
    <p class="text-secondary text-center">Completa los siguientes datos</p>
    <hr>
    <form method="POST">
        {% csrf_token %}
        <input id="id_user" name="user" value={{user.id}} style="display:none;">
        <div class="mb-3">
            <label for="basic-url" class="form-label m-0 fw-bold text-secondary">Titúlo de tu software</label>
            <div class="input-group">
                {{form.title}}
            </div>
            <div class="form-text"></div>
        </div>
        <div class="mb-3">
            <label for="" class="form-label m-0 fw-bold text-secondary">¿Cuál es el objetivo <strong>principal</strong> de tu software?</label>
            {{form.description}}
            <div class="form-text">
                Describe la funcion principal de tu software, ten encuenta que no debe superar los <span id="id_count" class="text-secondary fw-light">0</span>/150 caracteres. 
            </div>

        </div>
        <input type="submit" value="Continuar" class="btn btn-outline-dark">
    </form>

</div>

{% endblock content %}

{% block javascript %}
<script>
    const description = document.querySelector('#id_description')
    const count = document.querySelector('#id_count')

    description.addEventListener('keyup', (e)=>{
        let str_size = e.target.value.length
        count.textContent = 150 - str_size
    })
</script>
{% endblock javascript %}